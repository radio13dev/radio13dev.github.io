{
    // See https://go.microsoft.com/fwlink/?LinkId=733558
    // for the documentation about the tasks.json format
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Delete Uploaded Game",
            "type": "shell",
            "command": "aws s3 rm s3://radio13au-r2/game/ --endpoint-url https://2ff85e4a7b98df295713377e6e90c6be.r2.cloudflarestorage.com --recursive",
            "presentation": {
                "close": true
            }
        },

        {
            "label": "Upload Game",
            "type": "shell",
            "command": "aws s3 cp 'C:\\Work Repos\\Boto.Survivor.BuildRepo\\Build\\Web\\latest\\Player' s3://radio13au-r2/game/ --recursive --endpoint-url https://2ff85e4a7b98df295713377e6e90c6be.r2.cloudflarestorage.com",
            "presentation": {
                "close": true
            }
        },

        {
            "label": "Game: Pull main",
            "type": "shell",
            "command": "cd 'C:\\Work Repos\\Boto.Survivor.BuildRepo' ; git fetch --all ; git reset --hard origin/main ; git clean -fd; git pull origin main",
            "presentation": {
                "close": true
            }
        },

        {
            "label": "Game: Build Dev",
            "dependsOn": [
                "Game: Pull main"
            ],
            "dependsOrder": "sequence",
            "presentation": {
                "close": false
            },
            "type": "process",
            "command": "C:\\Program Files\\Unity\\Hub\\Editor\\6000.4.0a5\\Editor\\unity.exe",
            "args": [
                "-projectPath",
                "C:\\Work Repos\\Boto.Survivor.BuildRepo",
                "-activeBuildProfile",
                "Assets/Settings/Build Profiles/Web.asset",
                "-executeMethod",
                "BuildScript.BuildPlayerAndBundles_Dev",
                "-logFile",
                "C:\\Work Repos\\Boto.Survivor.BuildRepo\\Build\\Web\\build_log.txt",
                "-quit",
                "-batchmode"
            ],
            "problemMatcher": []
        },
        {
            "label": "Game: Build Release",
            "dependsOn": [
                "Game: Pull main"
            ],
            "dependsOrder": "sequence",
            "presentation": {
                "close": false
            },
            "type": "process",
            "command": "C:\\Program Files\\Unity\\Hub\\Editor\\6000.4.0a5\\Editor\\unity.exe",
            "args": [
                "-projectPath",
                "C:\\Work Repos\\Boto.Survivor.BuildRepo",
                "-activeBuildProfile",
                "Assets/Settings/Build Profiles/Web.asset",
                "-executeMethod",
                "BuildScript.BuildPlayerAndBundles",
                "-logFile",
                "C:\\Work Repos\\Boto.Survivor.BuildRepo\\Build\\Web\\build_log.txt",
                "-quit",
                "-batchmode"
            ],
            "problemMatcher": []
        },

        {
            "label": "Reupload Game",
            "dependsOn": [
                "Delete Uploaded Game",
                "Upload Game"
            ],
            "dependsOrder": "sequence",
            "presentation": {
                "close": true
            }
        },

        {
            "label": "Game: Build+Upload Dev",
            "dependsOn": [
                "Game: Build Dev",
                "Reupload Game"
            ],
            "dependsOrder": "sequence",
            "presentation": {
                "close": true
            }
        },

        {
            "label": "Game: Build+Upload Release",
            "dependsOn": [
                "Game: Build Release",
                "Reupload Game"
            ],
            "dependsOrder": "sequence",
            "presentation": {
                "close": true
            }
        },
    ]
}